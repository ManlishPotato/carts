pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
c={}
c.dim=5
c.limit=30

c2={}
c2.table={}
c2.cycle=0
c2.count=0

d={}
d.a=0
d.b=0

function _init()
end

function _update60()
cls()
if(btn(4)) then bcircle()	end
if(btn(5)) then scircle() end

draw_state()
rect(10,10,110,110,7)
end

function draw_state()
	local count=0
	local x=0
	local y=0
	local r=0

	if(c2.table[1]==nil) then return end

	for e in all(c2.table) do count+=1 end
	for i=0,count-3,3 do
		if(c2.table[i+1]==nil or c2.table[i+2]==nil or c2.table[i+3]==nil) then d.a=i end
		circ(c2.table[i+1],c2.table[i+2],c2.table[i+3],8)
		if(c2.table[i+3]>=10) then c2.table[i+3]=200
		else c2.table[i+3]+=0.3 end
	end
end

function scircle()
	if(c2.cycle<=0) then --add object
		c2.cycle=10
		add(c2.table,flr(rnd(100)+10)) --1 x
		add(c2.table,flr(rnd(100)+10)) --2 y
		add(c2.table,2) --3 rad
	else c2.cycle-=1 end
end

function bcircle()
line(0,60,128,60,7)
line(60,0,60,128,7)
	print("text",53,58,8)
	circ(60,60,c.dim,7)
	if(c.dim>c.limit) then c.dim=5
	else c.dim+=0.5 end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
