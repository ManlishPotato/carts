pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
s={}
s.tbl={}
s.cycled=5
s.cycle=s.cycled

function _update60()
	cls()
	smoke(10,10,100,100,8)
end

function smoke(x,y,x2,y2,d)
	rect(x,y,x2,y2,7)
	if(s.cycle<=0) then
		add(s.tbl,flr(rnd(x2-x)+x))
		add(s.tbl,flr(rnd(y2-y)+y))
		add(s.tbl,d)
		s.cycle=s.cycled
	else s.cycle-=1 end
	
	local count=0
	for i in all(s.tbl) do count+=1 end 
	for i=1,count,3 do
		s.tbl[i+1]-=0.8
		s.tbl[i+2]-=0.1
		circ(s.tbl[i],s.tbl[i+1],s.tbl[i+2],8)
	end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
