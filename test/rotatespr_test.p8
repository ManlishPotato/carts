pico-8 cartridge // http://www.pico-8.com
version 36
__lua__
p={}
sprshtx=8
sprshty=0

angle1=0
angle2=0

function _update60()
	cls()

	if(angle1>359) then angle1=0
	else angle1+=2.5 end

	for i=0,7,1 do if(angle1==i*45) then angle2=angle1 end end

	drwspr(90,64,sprshtx,sprshty,angle1)
	drwspr(30,64,sprshtx,sprshty,angle2)
end

function drwspr(xpos,ypos,sprx,spry,angle)
	sprwth=31
	sprhgt=31
	cx=flr(sprwth/2)
	cy=flr(sprhgt/2)
	for y=0,sprhgt-1,1 do
		for x=0,sprwth-1,1 do
			if(sget(x+sprx,y+spry)!=0) then
				xdist=x-cx
				ydist=y-cy

				radius=sqrt(xdist^2+ydist^2)
				anglebfr=atan2(xdist,ydist)
				anglenew=anglebfr+(angle/360)

				npx=flr(((cos(anglenew))*radius)+0.5)+xpos
				npy=flr(((sin(anglenew))*radius)+0.5)+ypos
				pset(npx,npy,sget(x+sprx,y+spry))
			end
		end
	end
end
__gfx__
00000000bbbbbbbbbbbbbbb699999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbbbbbbbb699999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700bbbbbbbbbbbbbbb699999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000bbbbbbbbbbbbbbb699999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000bbbbbbbbbbbbbbb699999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700bbbbbbbbbbbbbbb699999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbbbbbbbb699999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbbbbbbbb699999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbbbbbbbb699999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbbbbbbbb699999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbbbbbbbb699999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbbbbbbbb699999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbbbbbbbb699999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbbbbbbbb699999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000bbbbbbbbbbbbbbb699999999999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000666666666666666666666666666666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000ccccccccccccccc6aaaaaaaaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000ccccccccccccccc6aaaaaaaaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000ccccccccccccccc6aaaaaaaaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000ccccccccccccccc6aaaaaaaaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000ccccccccccccccc6aaaaaaaaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000ccccccccccccccc6aaaaaaaaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000ccccccccccccccc6aaaaaaaaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000ccccccccccccccc6aaaaaaaaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000ccccccccccccccc6aaaaaaaaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000ccccccccccccccc6aaaaaaaaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000ccccccccccccccc6aaaaaaaaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000ccccccccccccccc6aaaaaaaaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000ccccccccccccccc6aaaaaaaaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000ccccccccccccccc6aaaaaaaaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000ccccccccccccccc6aaaaaaaaaaaaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
