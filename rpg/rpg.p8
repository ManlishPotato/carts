pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
--hero 1
hero={}
hero.x=48
hero.y=48
hero.lastx=48
hero.lasty=48

hero.spr=2
hero.r=2

function _init()

end

function _update60()
	cls()
	map(0,0,0,0,16,16)

	move()
	collision()
	drawhero()
end

function move()
	hero.lastx=hero.x
	hero.lasty=hero.y

	if(btnp(0)) then hero.x-=8 hero.r=4 end
	if(btnp(1)) then hero.x+=8 hero.r=2 end
	if(btnp(2)) then hero.y-=8 hero.r=1 end
	if(btnp(3)) then hero.y+=8 hero.r=3 end

	hero.spr=hero.r
end

function collision()
	local flag=false
	for i=0,7,7 do
		for n=0,7,7 do
			flag=fget(mget((hero.x+n)/8,(hero.y+i)/8),0)
			if(flag) then
				hero.x=hero.lastx
				hero.y=hero.lasty
			end
		end
	end
end

function drawhero()
	spr(hero.spr,hero.x,hero.y)
end

__gfx__
00000000000000008888888888888888888888887777777755555555777777770000000000000000000000000000000000000000000000000000000000000000
00000000f000000f8888888c88888888c88888887000000755555555777777770000000000000000000000000000000000000000000000000000000000000000
00700700550ff0558888888c88888888c88888887000000755555555777777770000000000000000000000000000000000000000000000000000000000000000
00077000555665558888888c88888888c88888887000000755555555777777770000000000000000000000000000000000000000000000000000000000000000
00077000055665508888888c88888888c88888887000000755555555777777770000000000000000000000000000000000000000000000000000000000000000
00700700000060008888888c88888888c88888887000000755555555777777770000000000000000000000000000000000000000000000000000000000000000
00000000000000008888888c88888888c88888887000000755555555777777770000000000000000000000000000000000000000000000000000000000000000
0000000000000000888888888cccccc8888888887777777755555555777777770000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000f0ff0f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000055665500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000005565000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0000000000000101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0606060606060606060606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0605050505050505050505050505050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0605050505050505050505050505050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0605050505050505070505050505050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0605050505050505070705050505050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0605050505050505070705050505050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0605050505050505050705050505050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0605050505050505050505050505050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0605050505050505050505050505050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0605050505050505050505050505050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0605050505050505050505050505050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0605050505050505050505050505050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0605050505050505050505050505050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0605050505050505050505050505050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0605050505050505050505050505050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0606060606060606060606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
