pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
function _init()
guy = {}

guy.x = 60
guy.y = 60

guy.dx = 0
guy.dy = 0

h=128
w=128
end

function _update()
draw()
movement()
end

function draw()
cls()
map(0,0,0,0,128,128)
spr(1,guy.x,guy.y)
end

function movement()
local lx = guy.x
local ly = guy.y

guy.dx = 0
guy.dy = 0

if(btn(0)) guy.dx -= 1
if(btn(1)) guy.dx += 1
if(btn(2)) guy.dy -= 1
if(btn(3)) guy.dy += 1

guy.x += guy.dx
guy.y += guy.dy

guy.x1 = guy.x / 8
guy.y1 = guy.y / 8

guy.x2 = (guy.x+7) / 8
guy.y2 = (guy.y+7) / 8

local asprnum=fget(mget(guy.x1,guy.y1),0)
local bsprnum=fget(mget(guy.x1,guy.y2),0)
local csprnum=fget(mget(guy.x2,guy.y2),0)
local dsprnum=fget(mget(guy.x2,guy.y1),0)

if(asprnum or bsprnum or csprnum or dsprnum==true)
then guy.x = lx guy.y = ly
end
end
__gfx__
00000000777777771111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000700000071111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700700000071111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000700000071111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000700000071111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700700000071111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000700000071111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000777777771111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0202020202020202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
